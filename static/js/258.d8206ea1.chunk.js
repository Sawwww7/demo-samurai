"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[258,614],{5069:(s,e,t)=>{t.r(e),t.d(e,{default:()=>N});var r=t(5043);const o="ProfileInfo_descriptionBlock__gR0pP",i="ProfileInfo_mainPhoto__zy2Zi",n="ProfileInfo_item__8XQEw",a=t.p+"static/media/sky.de6c18d39336d2725051.png",l=t.p+"static/media/pngegg.6ed1cc617c3152d99307.png";var d=t(680),u=t(579);const c=s=>{let[e,t]=(0,r.useState)(!1),[o,i]=(0,r.useState)(s.status);(0,r.useEffect)((()=>{i(s.status)}),[s.status]);return(0,u.jsxs)("div",{children:[!e&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"status missing"})}),e&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(o)},value:o})})]})},p=s=>{let{profile:e,status:t,updateStatus:r}=s;return e?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:n,children:(0,u.jsx)("img",{alt:"phon",src:a})}),(0,u.jsxs)("div",{className:o,children:[(0,u.jsx)("div",{children:e.userId}),(0,u.jsx)("div",{children:(0,u.jsx)("img",{className:i,alt:"photos",src:null!=e.photos.large?e.photos.large:l})}),(0,u.jsx)(c,{status:t,updateStatus:r}),(0,u.jsx)("div",{children:e.fullName}),(0,u.jsx)("div",{children:e.aboutMe}),(0,u.jsx)("div",{children:e.lookingForAJobDescription}),(0,u.jsx)("div",{children:e.contacts.instagram}),(0,u.jsx)("div",{children:e.contacts.facebook}),(0,u.jsx)("div",{children:e.contacts.twitter})]})]}):(0,u.jsx)(d.A,{})},h="MyPosts_postsBlok__JamY8",m="MyPosts_posts__kAE7S",x="Post_item__kzAtf",f=t.p+"static/media/gerl.74511a67e244b96fb68e.png",j=s=>(0,u.jsxs)("div",{className:x,children:[(0,u.jsx)("img",{alt:"",src:f}),s.messege,(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:s.likesCount})})]});var g=t(5963),v=t(3842),_=t(3170),P=t(6292);const S=(0,_.d)(10),b=r.memo((s=>{console.log("RENDER"),console.log(s);let e=s.posts.map((s=>(0,u.jsx)(j,{messege:s.messege,likesCount:s.likesCount})));return(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("h1",{children:"My posts"}),(0,u.jsx)(k,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,u.jsx)("div",{className:m,children:e})]})})),k=(0,v.A)({form:"ProfileAddNewPostForm"})((s=>(0,u.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,u.jsx)("div",{children:(0,u.jsx)(g.A,{placeholder:"Post message",name:"newPostText",component:P.TM,validate:[_.m,S]})}),(0,u.jsx)("button",{children:"Add post"}),(0,u.jsx)("button",{children:"Remove"})]}))),A=b;var C=t(5977);const y=(0,t(3003).Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,C.oL)(e))}})))(A),N=s=>(0,u.jsxs)("div",{children:[(0,u.jsx)(p,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,u.jsx)(y,{})]})},9441:(s,e,t)=>{t.r(e),t.d(e,{default:()=>c});var r=t(5043),o=t(5069),i=t(3003),n=t(5977),a=t(3216),l=t(3923),d=t(579);class u extends r.Component{refreshProfile(){let s=this.props.router.params.userId;if(!s&&(s=this.props.authorizedUserId,!s))return(0,d.jsx)(a.C5,{to:"/login"});this.props.getUsersProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}render(){return(0,d.jsx)("div",{children:(0,d.jsx)(o.default,{...this.props,owner:!!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}const c=(0,l.Zz)((0,i.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth})),{getUsersProfile:n.ub,getStatus:n.BS,updateStatus:n.yB}),(function(s){return function(e){let t=(0,a.zy)(),r=(0,a.Zp)(),o=(0,a.g)();return(0,d.jsx)(s,{...e,router:{location:t,navigate:r,params:o}})}}))(u)},6292:(s,e,t)=>{t.d(e,{Fv:()=>d,TM:()=>a,pd:()=>l});t(5043);var r=t(8304),o=t(5963),i=t(579);const n=s=>{let{input:e,meta:{touched:t,error:o},children:n}=s;const a=t&&o;return(0,i.jsxs)("div",{className:r.A.formControl+" "+(a?r.A.error:" "),children:[(0,i.jsx)("div",{children:n}),a&&(0,i.jsx)("span",{className:r.A.span,children:o})]})},a=s=>{const{input:e,meta:t,child:r,...o}=s;return(0,i.jsx)(n,{...s,children:(0,i.jsx)("textarea",{...e,...o})})},l=s=>{const{input:e,meta:t,child:r,...o}=s;return(0,i.jsx)(n,{...s,children:(0,i.jsx)("input",{...e,...o})})},d=function(s,e,t,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ";return(0,i.jsxs)("div",{children:[(0,i.jsx)(o.A,{placeholder:s,name:e,validate:t,component:r,...n})," ",a]})}},3170:(s,e,t)=>{t.d(e,{d:()=>o,m:()=>r});const r=s=>{if(!s)return"Field is required"},o=s=>e=>{if(e.length>s)return"Max length is ".concat(s," symbols")}},8304:(s,e,t)=>{t.d(e,{A:()=>r});const r={formControl:"FormsControls_formControl__Iy92m",error:"FormsControls_error__oOsiQ",formSummaryError:"FormsControls_formSummaryError__mxFBl"}}}]);
//# sourceMappingURL=258.d8206ea1.chunk.js.map