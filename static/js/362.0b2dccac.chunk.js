"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[362],{7809:(s,e,o)=>{o.r(e),o.d(e,{default:()=>J});var t=o(5043);const i="ProfileInfo_descriptionBlock__gR0pP",r="ProfileInfo_mainPhoto__zy2Zi",n="ProfileInfo_photo__7K4Yw",l="ProfileInfo_item__8XQEw",d="ProfileInfo_contact__5RSm4",a="ProfileInfo_input__QcBbt",c="ProfileInfo_label__O5yJP",h=o.p+"static/media/sky.de6c18d39336d2725051.png",u=o.p+"static/media/pngegg.6ed1cc617c3152d99307.png";var x=o(680),j=o(579);const m=s=>{let[e,o]=(0,t.useState)(!1),[i,r]=(0,t.useState)(s.status);(0,t.useEffect)((()=>{r(s.status)}),[s.status]);return(0,j.jsxs)("div",{children:[!e&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Status: "}),(0,j.jsx)("span",{onDoubleClick:()=>{o(!0)},children:s.status||"status missing"})]}),e&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:s=>{r(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{o(!1),s.updateStatus(i)},value:i})})]})};var p=o(3842),v=o(6292);const f=(0,p.A)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:o}=s;return(0,j.jsxs)("form",{onSubmit:e,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"save"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),": ",(0,v.Fv)("Full name","fullName",[],v.pd)]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job"}),":",(0,v.Fv)("","lookingForAJob",[],v.pd,{type:"checkbox"})]}),(0,j.jsx)("b",{children:"My professional skills"}),":",(0,v.Fv)("My professional skills","lookingForAJobDescription",[],v.TM),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"}),(0,v.Fv)("About me","aboutMe",[],v.TM)]})]})})),b=s=>{let{profile:e,isOwner:o,goToEditMode:t}=s;return(0,j.jsxs)("div",{children:[o&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:t,children:"edit"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name"}),": ",e.fullName?"Yes":"no"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"Yes":"no"]}),e.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((s=>(0,j.jsx)(g,{contactTitle:s,contactValue:e.contacts[s]},s)))]})]})},g=s=>{let{contactTitle:e,contactValue:o}=s;return(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("b",{children:e}),":",o]})},_=s=>{let{profile:e,status:o,updateStatus:d,isOwner:p,savePhoto:v,saveProfile:g}=s,[_,P]=(0,t.useState)(!1);if(!e)return(0,j.jsx)(x.A,{});return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:l,children:(0,j.jsx)("img",{alt:"phon",src:h})}),(0,j.jsxs)("div",{className:i,children:[(0,j.jsx)("div",{children:e.userId}),(0,j.jsx)("div",{className:r,children:(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:n,alt:"photos",src:null!=e.photos.large?e.photos.large:u})})}),(0,j.jsx)("div",{children:p&&(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"formId",className:c,children:"set your avatar"}),(0,j.jsx)("input",{id:"formId",className:a,type:"file",onChange:s=>{s.target.files.length&&v(s.target.files[0])}})]})}),_?(0,j.jsx)(f,{profile:e,onSubmit:s=>{g(s)}}):(0,j.jsx)(b,{profile:e,isOwner:p,goToEditMode:()=>{P(!0)}}),(0,j.jsx)(m,{status:o,updateStatus:d}),(0,j.jsx)("div",{children:e.fullName}),(0,j.jsx)("div",{children:e.aboutMe}),(0,j.jsx)("div",{children:e.lookingForAJobDescription}),(0,j.jsx)("div",{children:e.contacts.instagram}),(0,j.jsx)("div",{children:e.contacts.facebook}),(0,j.jsx)("div",{children:e.contacts.twitter})]})]})},P="MyPosts_postsBlok__JamY8",k="MyPosts_posts__kAE7S",A="Post_item__kzAtf",F=o.p+"static/media/gerl.74511a67e244b96fb68e.png",y=s=>(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("img",{alt:"",src:F}),s.messege,(0,j.jsx)("div",{children:(0,j.jsx)("span",{children:s.likesCount})})]});var S=o(5963),N=o(3170);const C=(0,N.d)(10),M=t.memo((s=>{console.log("RENDER"),console.log(s);let e=s.posts.map((s=>(0,j.jsx)(y,{messege:s.messege,likesCount:s.likesCount})));return(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)("h1",{children:"My posts"}),(0,j.jsx)(w,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,j.jsx)("div",{className:k,children:e})]})})),w=(0,p.A)({form:"ProfileAddNewPostForm"})((s=>(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(S.A,{placeholder:"Post message",name:"newPostText",component:v.TM,validate:[N.m,C]})}),(0,j.jsx)("button",{children:"Add post"}),(0,j.jsx)("button",{children:"Remove"})]}))),T=M;var I=o(5977);const E=(0,o(3003).Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,I.oL)(e))}})))(T),J=s=>(0,j.jsxs)("div",{children:[(0,j.jsx)(_,{isOwner:s.isOwner,savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,j.jsx)(E,{})]})},6292:(s,e,o)=>{o.d(e,{Fv:()=>a,TM:()=>l,pd:()=>d});o(5043);var t=o(8304),i=o(5963),r=o(579);const n=s=>{let{input:e,meta:{touched:o,error:i},children:n}=s;const l=o&&i;return(0,r.jsxs)("div",{className:t.A.formControl+" "+(l?t.A.error:" "),children:[(0,r.jsx)("div",{children:n}),l&&(0,r.jsx)("span",{className:t.A.span,children:i})]})},l=s=>{const{input:e,meta:o,child:t,...i}=s;return(0,r.jsx)(n,{...s,children:(0,r.jsx)("textarea",{...e,...i})})},d=s=>{const{input:e,meta:o,child:t,...i}=s;return(0,r.jsx)(n,{...s,children:(0,r.jsx)("input",{...e,...i})})},a=function(s,e,o,t){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ";return(0,r.jsxs)("div",{children:[(0,r.jsx)(i.A,{placeholder:s,name:e,validate:o,component:t,...n})," ",l]})}},3170:(s,e,o)=>{o.d(e,{d:()=>i,m:()=>t});const t=s=>{if(!s)return"Field is required"},i=s=>e=>{if(e.length>s)return"Max length is ".concat(s," symbols")}},8304:(s,e,o)=>{o.d(e,{A:()=>t});const t={formControl:"FormsControls_formControl__Iy92m",error:"FormsControls_error__oOsiQ",formSummaryError:"FormsControls_formSummaryError__mxFBl"}}}]);
//# sourceMappingURL=362.0b2dccac.chunk.js.map