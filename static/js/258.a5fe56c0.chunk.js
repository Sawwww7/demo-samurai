"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[258,362],{7809:(s,e,t)=>{t.r(e),t.d(e,{default:()=>O});var o=t(5043);const r="ProfileInfo_descriptionBlock__gR0pP",i="ProfileInfo_mainPhoto__zy2Zi",n="ProfileInfo_photo__7K4Yw",l="ProfileInfo_item__8XQEw",a="ProfileInfo_contact__5RSm4",d="ProfileInfo_input__QcBbt",c="ProfileInfo_label__O5yJP",u=t.p+"static/media/sky.de6c18d39336d2725051.png",h=t.p+"static/media/pngegg.6ed1cc617c3152d99307.png";var p=t(680),x=t(579);const m=s=>{let[e,t]=(0,o.useState)(!1),[r,i]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{i(s.status)}),[s.status]);return(0,x.jsxs)("div",{children:[!e&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Status: "}),(0,x.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"status missing"})]}),e&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updateStatus(r)},value:r})})]})};var j=t(3842),f=t(6292);const v=(0,j.A)({form:"edit-profile"})((s=>{let{handleSubmit:e,profile:t}=s;return(0,x.jsxs)("form",{onSubmit:e,children:[(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"save"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Full name"}),": ",(0,f.Fv)("Full name","fullName",[],f.pd)]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job"}),":",(0,f.Fv)("","lookingForAJob",[],f.pd,{type:"checkbox"})]}),(0,x.jsx)("b",{children:"My professional skills"}),":",(0,f.Fv)("My professional skills","lookingForAJobDescription",[],f.TM),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me:"}),(0,f.Fv)("About me","aboutMe",[],f.TM)]})]})})),g=s=>{let{profile:e,isOwner:t,goToEditMode:o}=s;return(0,x.jsxs)("div",{children:[t&&(0,x.jsx)("div",{children:(0,x.jsx)("button",{onClick:o,children:"edit"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Full name"}),": ",e.fullName?"Yes":"no"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"Yes":"no"]}),e.lookingForAJob&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Contacts:"}),Object.keys(e.contacts).map((s=>(0,x.jsx)(b,{contactTitle:s,contactValue:e.contacts[s]},s)))]})]})},b=s=>{let{contactTitle:e,contactValue:t}=s;return(0,x.jsxs)("div",{className:a,children:[(0,x.jsx)("b",{children:e}),":",t]})},P=s=>{let{profile:e,status:t,updateStatus:a,isOwner:j,savePhoto:f,saveProfile:b}=s,[P,_]=(0,o.useState)(!1);if(!e)return(0,x.jsx)(p.A,{});return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:l,children:(0,x.jsx)("img",{alt:"phon",src:u})}),(0,x.jsxs)("div",{className:r,children:[(0,x.jsx)("div",{children:e.userId}),(0,x.jsx)("div",{className:i,children:(0,x.jsx)("div",{children:(0,x.jsx)("img",{className:n,alt:"photos",src:null!=e.photos.large?e.photos.large:h})})}),(0,x.jsx)("div",{children:j&&(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"formId",className:c,children:"set your avatar"}),(0,x.jsx)("input",{id:"formId",className:d,type:"file",onChange:s=>{s.target.files.length&&f(s.target.files[0])}})]})}),P?(0,x.jsx)(v,{profile:e,onSubmit:s=>{b(s)}}):(0,x.jsx)(g,{profile:e,isOwner:j,goToEditMode:()=>{_(!0)}}),(0,x.jsx)(m,{status:t,updateStatus:a}),(0,x.jsx)("div",{children:e.fullName}),(0,x.jsx)("div",{children:e.aboutMe}),(0,x.jsx)("div",{children:e.lookingForAJobDescription}),(0,x.jsx)("div",{children:e.contacts.instagram}),(0,x.jsx)("div",{children:e.contacts.facebook}),(0,x.jsx)("div",{children:e.contacts.twitter})]})]})},_="MyPosts_postsBlok__JamY8",k="MyPosts_posts__kAE7S",A="Post_item__kzAtf",S=t.p+"static/media/gerl.74511a67e244b96fb68e.png",F=s=>(0,x.jsxs)("div",{className:A,children:[(0,x.jsx)("img",{alt:"",src:S}),s.messege,(0,x.jsx)("div",{children:(0,x.jsx)("span",{children:s.likesCount})})]});var y=t(5963),N=t(3170);const C=(0,N.d)(10),I=o.memo((s=>{console.log("RENDER"),console.log(s);let e=s.posts.map((s=>(0,x.jsx)(F,{messege:s.messege,likesCount:s.likesCount})));return(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("h1",{children:"My posts"}),(0,x.jsx)(M,{onSubmit:e=>{s.addPost(e.newPostText)}}),(0,x.jsx)("div",{className:k,children:e})]})})),M=(0,j.A)({form:"ProfileAddNewPostForm"})((s=>(0,x.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(y.A,{placeholder:"Post message",name:"newPostText",component:f.TM,validate:[N.m,C]})}),(0,x.jsx)("button",{children:"Add post"}),(0,x.jsx)("button",{children:"Remove"})]}))),w=I;var T=t(5977);const E=(0,t(3003).Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,T.oL)(e))}})))(w),O=s=>(0,x.jsxs)("div",{children:[(0,x.jsx)(P,{isOwner:s.isOwner,savePhoto:s.savePhoto,profile:s.profile,status:s.status,updateStatus:s.updateStatus,saveProfile:s.saveProfile}),(0,x.jsx)(E,{})]})},9441:(s,e,t)=>{t.r(e),t.d(e,{default:()=>u});var o=t(5043),r=t(7809),i=t(3003),n=t(5977),l=t(3216),a=t(3923),d=t(579);class c extends o.Component{refreshProfile(){let s=this.props.router.params.userId;if(!s&&(s=this.props.authorizedUserId,!s))return(0,d.jsx)(l.C5,{to:"/login"});this.props.getUsersProfile(s),this.props.getStatus(s)}componentDidMount(){this.refreshProfile()}componentDidUpdate(s,e){this.props.router.params.userId!==s.router.params.userId&&this.refreshProfile()}render(){return(0,d.jsx)("div",{children:(0,d.jsx)(r.default,{...this.props,isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})})}}const u=(0,a.Zz)((0,i.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth})),{getUsersProfile:n.ub,getStatus:n.BS,updateStatus:n.yB,savePhoto:n.Ah,saveProfile:n.Lt}),(function(s){return function(e){let t=(0,l.zy)(),o=(0,l.Zp)(),r=(0,l.g)();return(0,d.jsx)(s,{...e,router:{location:t,navigate:o,params:r}})}}))(c)},6292:(s,e,t)=>{t.d(e,{Fv:()=>d,TM:()=>l,pd:()=>a});t(5043);var o=t(8304),r=t(5963),i=t(579);const n=s=>{let{input:e,meta:{touched:t,error:r},children:n}=s;const l=t&&r;return(0,i.jsxs)("div",{className:o.A.formControl+" "+(l?o.A.error:" "),children:[(0,i.jsx)("div",{children:n}),l&&(0,i.jsx)("span",{className:o.A.span,children:r})]})},l=s=>{const{input:e,meta:t,child:o,...r}=s;return(0,i.jsx)(n,{...s,children:(0,i.jsx)("textarea",{...e,...r})})},a=s=>{const{input:e,meta:t,child:o,...r}=s;return(0,i.jsx)(n,{...s,children:(0,i.jsx)("input",{...e,...r})})},d=function(s,e,t,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ";return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.A,{placeholder:s,name:e,validate:t,component:o,...n})," ",l]})}},3170:(s,e,t)=>{t.d(e,{d:()=>r,m:()=>o});const o=s=>{if(!s)return"Field is required"},r=s=>e=>{if(e.length>s)return"Max length is ".concat(s," symbols")}},8304:(s,e,t)=>{t.d(e,{A:()=>o});const o={formControl:"FormsControls_formControl__Iy92m",error:"FormsControls_error__oOsiQ",formSummaryError:"FormsControls_formSummaryError__mxFBl"}}}]);
//# sourceMappingURL=258.a5fe56c0.chunk.js.map